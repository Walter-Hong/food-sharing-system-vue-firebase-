webpackJsonp([11],{103:function(e,t){},114:function(e,t,n){"use strict";var a=n(41),i=n(115),s=n(116),r=function(){return n.e(0).then(n.bind(null,248))},o=function(){return n.e(6).then(n.bind(null,249))},u=function(){return n.e(4).then(n.bind(null,250))},c=function(){return n.e(5).then(n.bind(null,251))},l=function(){return n.e(2).then(n.bind(null,252))},d=function(){return n.e(1).then(n.bind(null,253))},p=function(){return n.e(8).then(n.bind(null,254))};a.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Post",component:r},{path:"/signup",name:"Signup",component:u},{path:"/signin",name:"Signin",component:c},{path:"/profile",name:"Profile",component:o,beforeEnter:s.a},{path:"/chat",name:"ChatHome",component:l,beforeEnter:s.a},{path:"/chat/:id",name:"Chat",component:d,props:!0,beforeEnter:s.a},{path:"/createChat",name:"CreateChat",component:p,beforeEnter:s.a}],mode:"history"})},116:function(e,t,n){"use strict";var a=n(67);t.a=function(e,t,n){a.a.getters.user?n():n("/signin")}},118:function(e,t,n){"use strict";var a=n(40);t.a={state:{user:null,onlineUsers:[]},mutations:{setUser:function(e,t){e.user=t;var n=a.a.child("presence"),i=n.push();a.a.child(".info/connected").on("value",function(e){if(e.val()){i.onDisconnect().remove();var n={user:t,status:"online"};i.set(n)}else{var a={user:t,status:"offline"};i.set(a)}})},setOnlineUsers:function(e,t){e.onlineUsers=t}},actions:{signUserUp:function(e,t){var n=e.commit;n("setLoading",!0),n("clearError"),a.b.auth().createUserWithEmailAndPassword(t.email,t.password).then(function(e){a.a.child("users").child(e.uid).set({name:t.username,photoUrl:"https://cn.vuejs.org/images/logo.png"}).then(function(a){n("setLoading",!1);var i={id:e.uid,name:t.username,email:e.email,photoUrl:"https://cn.vuejs.org/images/logo.png"};n("setUser",i)}).catch(function(e){n("setLoading",!1),n("setError",e)})}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserIn:function(e,t){var n=e.commit;n("setLoading",!0),n("clearError"),a.b.auth().signInWithEmailAndPassword(t.email,t.password).then(function(e){n("setLoading",!1);var t={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};n("setUser",t)}).catch(function(e){n("setLoading",!1),n("setError",e),console.log(e)})},signUserInGoogle:function(e){var t=e.commit;t("setLoading",!0),t("clearError"),a.b.auth().signInWithPopup(new a.b.auth.GoogleAuthProvider).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserInFacebook:function(e){var t=e.commit;t("setLoading",!0),t("clearError"),a.b.auth().signInWithPopup(new a.b.auth.FacebookAuthProvider).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserInGithub:function(e){var t=e.commit;t("setLoading",!0),t("clearError"),a.b.auth().signInWithPopup(new a.b.auth.GithubAuthProvider).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},signUserInTwitter:function(e){var t=e.commit;t("setLoading",!0),t("clearError"),a.b.auth().signInWithPopup(new a.b.auth.TwitterAuthProvider).then(function(e){t("setLoading",!1);var n={id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL};t("setUser",n)}).catch(function(e){t("setLoading",!1),t("setError",e),console.log(e)})},autoSignIn:function(e,t){(0,e.commit)("setUser",{id:t.uid,name:t.displayName,email:t.email,photoUrl:t.photoURL})},logout:function(e){var t=e.commit;a.b.auth().signOut(),t("setUser",null)},loadOnlineUsers:function(e){var t=e.commit;a.a.child("presence").on("value",function(e){var n=[];n[0]=e.numChildren(),n[1]=e.val(),t("setOnlineUsers",n)})}},getters:{user:function(e){return e.user},onlineUsers:function(e){return e.onlineUsers}}}},119:function(e,t,n){"use strict";var a=n(120),i=n.n(a),s=n(40),r={state:{chats:[]},mutations:{setMessagesEmpty:function(e){e.messages=[]},setChats:function(e,t){e.chats=t}},actions:{sendMessage:function(e,t){var n=(e.commit,t.chatID),a={user:t.username,content:t.content,date:t.date};s.a.child("messages").child(n).child("messages").push(a).then(function(e){}).catch(function(e){console.log(e)})},loadChats:function(e){var t=e.commit;s.a.child("chats").on("value",function(e){t("setChats",e.val())})},createChat:function(e,t){var n=(e.commit,s.a.child().child("chats").push().key),a={};return a["/chats/"+n]={name:t.chatName},s.a.child().update(a),new i.a(function(e,t){e(n)})}},getters:{messages:function(e){return e.messages},chats:function(e){return e.chats}}};t.a=r},156:function(e,t,n){"use strict";t.a={state:{loading:!1,error:null},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null}},actions:{clearError:function(e){(0,e.commit)("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}}},159:function(e,t,n){"use strict";var a=n(81),i=n(168),s=n(8),r=s(a.a,i.a,!1,null,null,null);t.a=r.exports},165:function(e,t,n){"use strict";var a=n(82),i=n(166),s=n(8),r=s(a.a,i.a,!1,null,null,null);t.a=r.exports},166:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon",class:[e.type,e.size]},[n("i",{class:[e.newPack,"fa"===e.newPack?"fa-"+e.newIcon:null]},[e._v(e._s("mdi"===e.newPack?e.newIcon:null))])])},i=[],s={render:a,staticRenderFns:i};t.a=s},168:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control",class:[e.iconPosition,{"is-expanded":e.expanded,"is-loading":e.loading,"is-clearfix":!e.hasMessage}]},["textarea"!==e.type?n("input",{ref:"input",staticClass:"input",class:[e.statusType,e.size],attrs:{type:e.newType,name:e.name,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,minlength:e.minlength,autocomplete:e.newAutocomplete,required:e.required,min:e.min,max:e.max,step:e.step,pattern:e.pattern},domProps:{value:e.newValue},on:{input:e.input,blur:e.blur,focus:function(t){e.$emit("focus",t)},change:function(t){e.$emit("change",e.newValue)}}}):n("textarea",{ref:"textarea",staticClass:"textarea",class:[e.statusType,e.size],attrs:{name:e.name,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,required:e.required,maxlength:e.maxlength,minlength:e.minlength,rows:e.rows},domProps:{value:e.newValue},on:{input:e.input,blur:e.blur,focus:function(t){e.$emit("focus",t)},change:function(t){e.$emit("change",e.newValue)}}}),e._v(" "),e.icon?n("b-icon",{staticClass:"is-left",attrs:{icon:e.icon,pack:e.iconPack,size:e.size}}):e._e(),e._v(" "),e.loading||!e.passwordReveal&&!e.statusType?e._e():n("b-icon",{staticClass:"is-right",class:[e.passwordReveal?null:e.statusType,{"is-primary is-clickable":e.passwordReveal}],attrs:{icon:e.passwordReveal?e.passwordVisibleIcon:e.statusTypeIcon,size:e.size,both:""},nativeOn:{click:function(t){return e.togglePasswordVisibility(t)}}}),e._v(" "),e.maxlength?n("small",{staticClass:"help counter"},[e._v(e._s(e.valueLength)+" / "+e._s(e.maxlength))]):e._e()],1)},i=[],s={render:a,staticRenderFns:i};t.a=s},170:function(e,t,n){"use strict";var a=n(83),i=n(171),s=n(8),r=s(a.a,i.a,!1,null,null,null);t.a=r.exports},171:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field",class:[e.fieldType,e.addonsPosition,{"is-expanded":e.expanded}]},[e.label?n("label",{staticClass:"label"},[e._v(e._s(e.label))]):e._e(),e._v(" "),e._t("default"),e._v(" "),e.newMessage?n("p",{staticClass:"help",class:e.newType},[e._v(e._s(e.newMessage))]):e._e()],2)},i=[],s={render:a,staticRenderFns:i};t.a=s},173:function(e,t,n){"use strict";var a=n(84),i=n(174),s=n(8),r=s(a.a,i.a,!1,null,null,null);t.a=r.exports},174:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"tooltip",class:[e.newType,e.position,e.size,{"is-square":e.square,"is-animated":e.newAnimated,"is-always":e.always,"is-multiline":e.multilined,"is-dashed":e.dashed}],attrs:{"data-label":e.label}},[e._t("default")],2)},i=[],s={render:a,staticRenderFns:i};t.a=s},175:function(e,t){},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(92),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);var r=n(232),o=n(8),u=o(i.a,r.a,!1,null,null,null);t.default=u.exports},232:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"flyaway"},[e._t("default",[n("div",{domProps:{innerHTML:e._s(e.content)}})])],2)])},i=[],s={render:a,staticRenderFns:i};t.a=s},233:function(e,t,n){"use strict";function a(e){n(234)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(93),s=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n(235),u=n(8),c=a,l=u(s.a,o.a,!1,c,null,null);t.default=l.exports},234:function(e,t){},235:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-map-container"},[n("div",{ref:"vue-map",staticClass:"vue-map"}),e._v(" "),n("div",{staticClass:"vue-map-hidden"},[e._t("default")],2),e._v(" "),e._t("visible")],2)},i=[],s={render:a,staticRenderFns:i};t.a=s},236:function(e,t,n){"use strict";function a(e){n(237)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(94),s=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n(238),u=n(8),c=a,l=u(s.a,o.a,!1,c,null,null);t.default=l.exports},237:function(e,t){},238:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-street-view-pano-container"},[n("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),e._v(" "),e._t("default")],2)},i=[],s={render:a,staticRenderFns:i};t.a=s},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);var r=n(240),o=n(8),u=o(i.a,r.a,!1,null,null,null);t.default=u.exports},240:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[n("span",{domProps:{textContent:e._s(e.label)}}),e._v(" "),n("input",{ref:"input",class:e.className,attrs:{type:"text",placeholder:e.placeholder}})])},i=[],s={render:a,staticRenderFns:i};t.a=s},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(97),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);var r=n(242),o=n(8),u=o(i.a,r.a,!1,null,null,null);t.default=u.exports},242:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value}})},i=[],s={render:a,staticRenderFns:i};t.a=s},40:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var a=n(98),i=n.n(a);n.d(t,"b",function(){return i.a});var s={apiKey:"AIzaSyCXJy2P5ziBmSqZMrOQBOZjBZBqOClkm68",authDomain:"my-project-1525706860738.firebaseapp.com",databaseURL:"https://my-project-1525706860738.firebaseio.com",projectId:"my-project-1525706860738",storageBucket:"my-project-1525706860738.appspot.com",messagingSenderId:"132702724130"};i.a.initializeApp(s);var r=i.a.database().ref(),o=i.a.storage().ref()},67:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(41),i=n(117),s=n(118),r=n(119),o=n(156);a.a.use(i.a);var u=new i.a.Store({modules:{chat:r.a,user:s.a,shared:o.a}})},81:function(e,t,n){"use strict";var a=n(160),i=n.n(a),s=n(164),r=n(51),o=n(167);t.a={name:"bInput",mixins:[o.a],components:i()({},s.a.name,s.a),props:{value:[Number,String],type:{type:String,default:"text"},passwordReveal:Boolean},data:function(){return{newValue:this.value,newType:this.type,newAutocomplete:this.autocomplete||r.a.defaultInputAutocomplete,isPasswordVisible:!1,_elementRef:"textarea"===this.type?"textarea":"input"}},computed:{hasIconRight:function(){return this.passwordReveal||this.loading||this.statusType},iconPosition:function(){return this.icon&&this.hasIconRight?"has-icons-left has-icons-right":!this.icon&&this.hasIconRight?"has-icons-right":this.icon?"has-icons-left":void 0},statusTypeIcon:function(){switch(this.statusType){case"is-success":return"done";case"is-danger":return"error";case"is-info":return"info";case"is-warning":return"warning"}},hasMessage:function(){return this.$parent.$data._isField&&this.$parent.newMessage},passwordVisibleIcon:function(){return this.isPasswordVisible?"visibility_off":"visibility"},valueLength:function(){return this.newValue?this.newValue.length:0}},watch:{value:function(e){this.newValue=e,!this.isValid&&this.checkHtml5Validity()}},methods:{input:function(e){var t=e.target.value;this.newValue=t,this.$emit("input",t),!this.isValid&&this.checkHtml5Validity()},togglePasswordVisibility:function(){var e=this;this.isPasswordVisible=!this.isPasswordVisible,this.newType=this.isPasswordVisible?"text":"password",this.$nextTick(function(){e.$refs.input.focus()})},blur:function(e){this.$emit("blur",e),this.checkHtml5Validity()}}}},82:function(e,t,n){"use strict";var a=n(51);t.a={name:"bIcon",props:{type:String,pack:String,icon:String,both:Boolean,size:String},data:function(){return{newPack:this.pack||a.a.defaultIconPack}},computed:{newIcon:function(){return this.both?"mdi"===this.newPack?this.icon:this.equivalentIconOf(this.icon):this.icon}},methods:{equivalentIconOf:function(e){switch(e){case"done":return"check";case"info":return"info-circle";case"check_circle":return"check-circle";case"warning":return"exclamation-triangle";case"error":return"exclamation-circle";case"arrow_upward":return"arrow-up";case"chevron_right":return"angle-right";case"chevron_left":return"angle-left";case"keyboard_arrow_down":return"angle-down";case"visibility":return"eye";case"visibility_off":return"eye-slash";case"arrow_drop_down":return"caret-down";case"arrow_drop_up":return"caret-up";default:return null}}}}},83:function(e,t,n){"use strict";t.a={name:"bField",props:{type:String,label:String,message:String,grouped:Boolean,position:String,expanded:Boolean,addons:{type:Boolean,default:!0}},data:function(){return{newType:this.type,newMessage:this.message,_isField:!0}},watch:{type:function(e){this.newType=e},message:function(e){this.newMessage=e}},computed:{addonsPosition:function(){if(void 0!==this.position){var e=this.position.split("-");if(!(e.length<1))return this.position?"has-addons-"+e[1]:void 0}},fieldType:function(){return this.grouped?"is-grouped":void 0!==this.$slots.default&&this.$slots.default.length>1&&this.addons?"has-addons":void 0}}}},84:function(e,t,n){"use strict";var a=n(51);t.a={name:"bTooltip",props:{type:String,label:String,position:{type:String,default:"is-top",validator:function(e){return["is-top","is-bottom","is-left","is-right"].indexOf(e)>-1}},always:Boolean,animated:Boolean,square:Boolean,dashed:Boolean,multilined:Boolean,size:{type:String,default:"is-medium"}},data:function(){return{newType:this.type||a.a.defaultTooltipType,newAnimated:this.animated||a.a.defaultTooltipAnimated}}}},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n(101),s=n.n(i),r=n(102),o=n(40),u=n(113),c=n.n(u),l=n(114),d=n(67),p=n(158),h=n(169),f=n(172),m=n(175),v=(n.n(m),n(176)),g=(n.n(v),n(243)),w=n.n(g),b=n(244),y=n.n(b),_=function(){return n.e(3).then(n.bind(null,255))},P=function(){return n.e(7).then(n.bind(null,256))};a.a.use(v,{load:{key:"AIzaSyDvG8QBgXV6msnzH-AtgN-ssWYJBHY5kH4"}}),a.a.use(c.a),a.a.use(s.a),a.a.use(r.a),a.a.component(p.a.name,p.a),a.a.component(h.a.name,h.a),a.a.component(f.a.name,f.a),a.a.use(w.a),a.a.use(y.a),a.a.config.productionTip=!1,a.a.component("app-alert",P),new a.a({el:"#app",router:l.a,store:d.a,template:"<App/>",components:{App:_},created:function(){var e=this;o.b.auth().onAuthStateChanged(function(t){t&&e.$store.dispatch("autoSignIn",t)})}})}},[99]);
//# sourceMappingURL=app.c9d5a511c7cae1389e62.js.map